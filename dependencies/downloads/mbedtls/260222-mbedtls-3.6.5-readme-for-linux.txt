MbedTLS 3.6.5 Linux build with Cmake
22.2.2026/pekka

Install Build Dependencies:

	sudo apt update
	sudo apt install build-essential cmake git

Uncompress source code 

	I uncompressed mbedtls-3.6.5.tar.bz2 to /home/iocafe/mbedtls/mbedtls-3.6.5
	(now this is the MbedTLS source root folder). 

Run cmake and build/install with GNU make

	I created directory /home/iocafe/mbedtls/build to be used as build directory:
	
	cd /home/iocafe/mbedtls
	mkdir build
	cd build
	cmake cmake -DCMAKE_BUILD_TYPE=Release -DUSE_STATIC_MBEDTLS_LIBRARY=On -DUSE_SHARED_MBEDTLS_LIBRARY=Off ../mbedtls-3.6.5
	make

	cd /home/iocafe/mbedtls
	mkdir buildd
	cd buildd
	cmake cmake -DCMAKE_BUILD_TYPE=Debug -DUSE_STATIC_MBEDTLS_LIBRARY=On -DUSE_SHARED_MBEDTLS_LIBRARY=Off ../mbedtls-3.6.5
	make

Optional, install to operating sysem
	cd /home/iocafe/mbedtls/build
	sudo make install

Copy libraries to use (for 64 bit PC linux computer)
 
        - Copy libmbedtls.a, libmbedcrypto.a, and libmbedx509.a
	  from /home/iocafe/mbedtls/build/library 
	  to /coderoot/eosal/dependencies/linux/linux_generic_amd64_gcc.
	
        - Rename libmbedtls.a, libmbedcrypto.a, and libmbedx509.a
	  in /home/iocafe/mbedtls/build/library directory 
          to libmbedtlsd.a, libmbedcryptod.a, and libmbedx509d.a
	  Then copy the renamed files t 
	  to /coderoot/eosal/dependencies/linux/linux_generic_amd64_gcc.
	  
 
Update Library Cache:

	sudo ldconfig

