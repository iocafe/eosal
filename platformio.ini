[platformio]
src_dir = code
# include_dir = .

[env:esp-wrover-kit-espidf]
platform = espressif32
framework = espidf
board = esp-wrover-kit
monitor_speed = 115200

; lib_compat_mode = off

build_flags =
    -Wall
    -D OSAL_ESPIDF_FRAMEWORK
    -D OSAL_DUMMY_ESPIDF_APP_MAIN
;    -D PIO_FRAMEWORK_ESP_IDF_ENABLE_EXCEPTIONS
    -D CONFIG_SPIRAM_CACHE_WORKAROUND
    -D IOCOM_USE_GAZERBEAM=1
    -D IOCOM_USE_LIGHTHOUSE=1
    -D PINS_CAMERA=0
    -D OSAL_DEBUG=1
    -D OSAL_TRACE=1
    -D OSAL_USE_JPEG_LIBRARY=0
    -D OSAL_SOCKET_SUPPORT=1
    -D OSAL_TLS_SUPPORT=2
    -D OSAL_SERIAL_SUPPORT=1
    -D OSAL_BLUETOOTH_SUPPORT=0
    -D OSAL_MULTITHREAD_SUPPORT=1
    -D OSAL_PERSISTENT_SUPPORT=1
    -D CORE_DEBUG_LEVEL=0
;    -D MBEDTLS_CONFIG_FILE="\"mbedtls/esp_config.h\""
    -I /coderoot/eosal
    -I /coderoot/eosal/dependencies/eosal_jpeg
    -I /coderoot/iocom
    -I /coderoot/iocom/extensions/devicedir
    -I /coderoot/iocom/extensions/deviceinfo
    -I /coderoot/iocom/extensions/nodeconf
    -I /coderoot/iocom/extensions/gazerbeam
    -I /coderoot/iocom/extensions/lighthouse
    -I /coderoot/pins
    -I /coderoot/iocom/examples/candy
    -I /coderoot/iocom/examples/candy/config/include/espwroverkit
